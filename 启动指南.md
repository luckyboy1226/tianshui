# ğŸš€ å¤©æ°´å¹³å°å¯åŠ¨æŒ‡å—

## é—®é¢˜è§£å†³

### é”™è¯¯ï¼šæ‰¾ä¸åˆ° manage.py æ–‡ä»¶

**é—®é¢˜åŸå› ï¼š** é¡¹ç›®ç»“æ„ä¸å®Œæ•´ï¼Œç¼ºå°‘ `manage.py` æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆï¼š** æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº† `manage.py` æ–‡ä»¶

## å¿«é€Ÿå¯åŠ¨æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥é¡¹ç›®ç»“æ„
```bash
# è¿è¡Œé¡¹ç›®æ£€æŸ¥è„šæœ¬
python check_project.py
```

è¿™ä¸ªè„šæœ¬ä¼šæ£€æŸ¥ï¼š
- âœ… æ‰€æœ‰å¿…éœ€æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- âœ… Djangoç¯å¢ƒæ˜¯å¦æ­£å¸¸
- âœ… é¡¹ç›®ç»“æ„æ˜¯å¦å®Œæ•´

### ç¬¬äºŒæ­¥ï¼šå®‰è£…ä¾èµ–
```bash
# å®‰è£…Pythonä¾èµ–åŒ…
pip install -r requirements_dev.txt
```

### ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®æ•°æ®åº“
```bash
# åˆ›å»ºæ•°æ®åº“è¿ç§»
python manage.py makemigrations --settings=tianshuipy.settings_dev

# æ‰§è¡Œæ•°æ®åº“è¿ç§»
python manage.py migrate --settings=tianshuipy.settings_dev
```

### ç¬¬å››æ­¥ï¼šåˆ›å»ºè¶…çº§ç”¨æˆ·
```bash
# åˆ›å»ºç®¡ç†å‘˜è´¦å·
python manage.py shell --settings=tianshuipy.settings_dev
```

åœ¨Django shellä¸­è¿è¡Œï¼š
```python
from users.models import User
User.objects.create_superuser('admin', 'admin@example.com', 'admin123')
exit()
```

### ç¬¬äº”æ­¥ï¼šå¯åŠ¨æœåŠ¡å™¨
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python manage.py runserver --settings=tianshuipy.settings_dev
```

### ç¬¬å…­æ­¥ï¼šè®¿é—®ç³»ç»Ÿ
- ğŸŒ ç®¡ç†åå°ï¼šhttp://127.0.0.1:8000/admin/
- ğŸ“š APIæ–‡æ¡£ï¼šhttp://127.0.0.1:8000/api/docs/
- ğŸ”‘ é»˜è®¤è´¦å·ï¼šadmin / admin123

## ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

å¦‚æœä¸Šè¿°æ­¥éª¤å¤ªå¤æ‚ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼š

```bash
# ä¸€é”®å¯åŠ¨è„šæœ¬
python start_dev.py
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰é…ç½®æ­¥éª¤ã€‚

## å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šImportError: No module named 'django'
```bash
# è§£å†³æ–¹æ¡ˆï¼šå®‰è£…Django
pip install django==5.2.4
```

### é—®é¢˜2ï¼šModuleNotFoundError: No module named 'rest_framework'
```bash
# è§£å†³æ–¹æ¡ˆï¼šå®‰è£…Django REST Framework
pip install djangorestframework==3.14.0
```

### é—®é¢˜3ï¼šæ•°æ®åº“è¿ç§»å¤±è´¥
```bash
# è§£å†³æ–¹æ¡ˆï¼šåˆ é™¤æ•°æ®åº“æ–‡ä»¶é‡æ–°å¼€å§‹
rm db.sqlite3
python manage.py makemigrations --settings=tianshuipy.settings_dev
python manage.py migrate --settings=tianshuipy.settings_dev
```

### é—®é¢˜4ï¼šç«¯å£è¢«å ç”¨
```bash
# è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨å…¶ä»–ç«¯å£
python manage.py runserver 8001 --settings=tianshuipy.settings_dev
```

## é¡¹ç›®ç»“æ„è¯´æ˜

```
tianshuipy/                    # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ manage.py                  # Djangoç®¡ç†è„šæœ¬
â”œâ”€â”€ tianshuipy/               # Djangoé¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py           # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ settings_dev.py       # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ urls.py               # ä¸»URLé…ç½®
â”‚   â”œâ”€â”€ wsgi.py
â”‚   â””â”€â”€ asgi.py
â”œâ”€â”€ users/                    # ç”¨æˆ·ç®¡ç†åº”ç”¨
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ serializers.py
â”‚   â””â”€â”€ urls.py
â”œâ”€â”€ environment/              # ç¯å¢ƒç›‘æµ‹åº”ç”¨
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ tasks.py
â”‚   â”œâ”€â”€ ecological_indices.py
â”‚   â””â”€â”€ urls.py
â”œâ”€â”€ requirements_dev.txt      # å¼€å‘ç¯å¢ƒä¾èµ–
â”œâ”€â”€ start_dev.py             # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ check_project.py         # é¡¹ç›®æ£€æŸ¥è„šæœ¬
â””â”€â”€ å¯åŠ¨æŒ‡å—.md              # æœ¬æ–‡ä»¶
```

## APIæ¥å£æµ‹è¯•

### 1. æµ‹è¯•ç”¨æˆ·ç™»å½•
```bash
curl -X POST http://127.0.0.1:8000/api/v1/users/users/login/ \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "admin123"}'
```

### 2. æµ‹è¯•APIæ–‡æ¡£
è®¿é—®ï¼šhttp://127.0.0.1:8000/api/docs/

## ä¸‹ä¸€æ­¥

1. **å‰ç«¯å¼€å‘** - å‚è€ƒ `frontend_config.md`
2. **åŠŸèƒ½æ‰©å±•** - æ·»åŠ æ›´å¤šç”Ÿæ€æŒ‡æ•°ç®—æ³•
3. **æ€§èƒ½ä¼˜åŒ–** - æ·»åŠ ç¼“å­˜å’Œå¼‚æ­¥å¤„ç†
4. **éƒ¨ç½²ä¸Šçº¿** - é…ç½®ç”Ÿäº§ç¯å¢ƒ

---

**æç¤ºï¼š** å¼€å‘ç¯å¢ƒä½¿ç”¨SQLiteæ•°æ®åº“ï¼Œé€‚åˆå­¦ä¹ å’Œå¼€å‘ã€‚ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨PostgreSQLã€‚ 